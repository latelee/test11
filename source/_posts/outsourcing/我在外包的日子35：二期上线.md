---
title: 我在外包的日子35：二期上线
categories:
  - 我在外包的日子
date: 2019-08-15
tags: 外包
---

昨天同事要求今天早上7点到岗，进行二期系统上线的部署。临下班时，同事又一次提醒此事。晚上调手机闹钟为5点半，但不习惯早睡，不习惯早起，最终6点才起来，时间紧就没煮粥，就在附近买个包子，但时间太早了，人家没开门，于是一边骑车上班，一边观察包子店铺是否开门。最终如愿买到包子，也在7点半到达公司。  
<!-- more -->
## 升级
7时许，同事陆续到岗。根据安排，正式启动部署行动：
同事切断一期系统充值、扫码等通道。
我更新中间件，切断与一期系统的交互。
后台同事导出一期数据，再导入二期系统。
7点40完成，新系统正式上线。

## 问题
但还是出现一些问题：
在升级期间，有几个订单依旧存在，当这些订单产生时，二期系统还不知道在何处，当这些订单结束时，二期系统不知如何处理。
一期的数据是昨天下午的，即昨天下午到今早，在手动在数据库中添加记录，而不是“导入”。
甲方的大领导、中领导在昨天将新系统上线的通知大发朋友圈，部分用户已经使用二期APP充值。
短信验证大半年时间没申请下来，APP没有短信功能，导致注册无须验证码（间接导致有的用户没有手机号），没有找回密码功能。

产生问题的背景及困境：
由于一期已经在生产环境使用，不能影响，但二期又要测试并上线，故而存在一个兼容期，即两个APP都可使用，但两个账号账务系统(充值消费)不同，中间件模块同时兼容一期二期后台。在上线前，APP和后台其实已经可以正常使用了，只是一些数据没有同步。

在4月中旬，同事叫我写升级方案，我在方案中提出中间件兼容后台、APP预先内部测试，通过后让部分用户使用新APP，权当内测（可以有一定程度优惠）；升级期间，现场工作人员对用户进行干预、指导，如果不派人，由我方工程师到现场。
不过后面因为服务器受攻击处理了很久，甲方不知道升级方案（因为同事没提交），后来因为投标的事拖了一段时间，再后来又因为有新业务，于是拖到了8月份（也间隔导致撰文此刻前2个月没发工资）。但总归让二期系统上线了，接下来就要处理各种各样问题了。

## 经验
1、应该完成短信认证模块。从功能提出到系统上线，过了大半年，但甲方未申请完毕。此问题因权限无法完成。但让别人看到，会认为这个APP不成熟，不专业——当然，绝大多数用户只要功能正常就行了。
2、软件下载使用不能提前，不能扩散（据说APP同事是在半夜上线ios版本的）。
3、后台账号权限明确，维护人员、财务人员、领导等等。(同事以为甲方公司管，甲方以为我司管。实际应是甲方公司，但需要明确告知并培训)。

沟通方面总结：
1、别人以为你知道，你以为别人知道你不知道，双方都在内心深处沟通，于是出了问题，往往只能说“我不知道”。
2、你以为甲方知道，甲方以为你知道，于是都默认某一种行事方式，于是很多杂事抛不开，推不掉，从管理学上讲，“猴子”继续在你身上趴着。
3、有些坑，同事知道，同事以为你知道，在你不知道情况下又要让你处理，往往处理不好。
4、多方沟通过程中非常耗时，也会有很多噪声，或多加信息，或隐藏信息等，都会带来不同的结果。这里的沟通一般在微信群里进行，较少电话沟通、极少面谈。另外，沟通方有甲方、甲方A、厂家、我方，外加客户、工程实施人员等，关系错综复杂，导致一个问题可能要花一周时间才能解决，有时要在不同时间向不同的人描述同一个问题。
5、只有掌握一定信息，加上一定经验，才能对风险有准确的评估，做出的举措才有效。没有信息情况下应付风险，只能停留在纸面上而已，甚至有加大风险的风险。

不管怎样，在自己能力范围内把事做好即可，做到问心无愧就行。

2019.8.15 夜 