---
title: 我在外包的日子26：接入新场站
categories:
  - 我在外包的日子
date: 2019-05-10
tags: 外包
---
有个场站，曾经接入过。但去年12月中旬停止了。最近又要接入。

<!-- more -->

原来，那个场站在去年年底移交给南方电网来经营。不知怎的，现在又变回来了。去测试时，司机也曾提出疑问，我不知道如何回答。  


几个月前我就着手重写中间件，那时这个场站的代码还是由神秘人在维护，同事说那个代码写得好，我分析了，里面有许多无用的代码，同一功能，分散在不同文件的不同函数，有的函数和文件纯粹是干扰视线。而且命名长而难记——当然，仅对于我而言。当时跟同事说，由神秘人按新的格式改写，同事也答应了。后来，同事说神秘人交付了，改的话要加钱。当然，我也预到这种情况，所以没觉得意外。

有了参考代码，有了真实报文，分析代码后，大概知道了原理，因为这里只有协议手册，如果不参考已有代码，根本无法编码。大概花了3~4天写完。

4月中旬，甲方跟我说五一前要完成一半的接入，然后建讨论群，群里包括了厂家的人。到了4月24号才第一次去场站调试。28、29、30这三天连接测试，最后在五一前完成。

场站只能用流量卡上网，厂家的工程师一直强调要后台绑定，虽然说了我们的后台不需要，但依然一直在强调绑定。因为一开始插入流量卡无法连接网络（界面有图标显示），搞了很久，打电话给同事（因为以前同事管的，但同事没参与此事），又打电话给甲方，又打电话给厂家，最后发现，插入流量卡需要设备断电才行。

搞完网络后，测试就不太难，主要确认开电、关电、充电量这些对不对。技术上没大问题，麻烦的是，要逐个桩来更改，开柜门，断电，插卡，上电，改网络参数和设备编号。然后逐个桩进行扫码测试，这些也搞了半天。

测试完了就可以用了，但要等到五一的0点才能放开。当晚太困了就没守着电脑，还好没什么事发生。

五一后，继续进入另一半设备的接入。有了经验，两个人花了一天的时间完成。  

沟通是最耗时间的。懂的人不来，厂家也不来，甲方不管，我们俩又是新手，在群里问了几的问题，要等半天或几天才有回应，而且回应的比较官方，没多大作用。有个严重的问题反馈了，过了几天回复说下周一派人去升级，到了周三，甲方领导问情况，说下午派人去升级。从我在后台记录的日志来分析，很大概率没有升级。

这个系统，感觉没有致命问题，甲方不会管的，作为开发人员当然希望系统好用，问题少，现在看，这个思路要改变一下。

李迟 2019.05.10 周五
